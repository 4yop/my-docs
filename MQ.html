<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>消息队列深度解析：RabbitMQ 与 Kafka 核心原理、优化与面试题精讲 | 我的文档</title>
    <meta name="description" content="掌握 RabbitMQ 消息分发模式、延迟消息实现、高可用、防重消费与消息不丢失策略。深入理解 Kafka 架构、数据可靠性投递、高性能写入机制（sendfile/mmap）及消费者 offset 管理。">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.DFTx90Kk.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.izza3oQ9.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.C3zd6p6B.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BQlYxExx.js">
    <link rel="modulepreload" href="/assets/MQ.md.ZXmkco5g.lean.js">
    <meta name="author" content="4yop">
    <meta property="og:title" content="面试题,八股文">
    <meta property="og:description" content="面试题,八股文">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <meta name="baidu-site-verification" content="codeva-xus6FDZpdC">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>我的文档</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><!----><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>首页</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/MYSQL.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>MYSQL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/GIT.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>GIT</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/REDIS.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>REDIS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/PHP.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>PHP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/SWOOLE.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>SWOOLE</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/GO.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>GO</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/JAVA.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>JAVA</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/NGINX.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>NGINX</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/MONGODB.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>MONGODB</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/MQ.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>MQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系统设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/%E5%88%86%E5%B8%83%E5%BC%8F.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>分布式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/%E5%85%B6%E4%BB%96.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>其他</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/ELASTICSEARCH.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ELASTICSEARCH</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/DOCKER.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>DOCKER</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>计算机原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/LINUX.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>LINUX</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/%E7%BD%91%E7%BB%9C.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>网络</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/%E7%AE%97%E6%B3%95.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/%E5%AE%89%E5%85%A8.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>安全</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/%E5%90%B9%E7%89%9B.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>吹牛</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/%E7%9B%B8%E5%85%B3%E7%BD%91%E7%AB%99.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>相关网站</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _MQ" data-v-39a288b8><div><h1 id="rabbitmq" tabindex="-1">rabbitmq <a class="header-anchor" href="#rabbitmq" aria-label="Permalink to &quot;rabbitmq&quot;">​</a></h1><h2 id="rabbitmq消费失败的原因" tabindex="-1">rabbitmq消费失败的原因? <a class="header-anchor" href="#rabbitmq消费失败的原因" aria-label="Permalink to &quot;rabbitmq消费失败的原因?&quot;">​</a></h2><blockquote><p>过期时间<br> 队列超长<br> 被拒绝<br> 无法路由<br> 处理失败</p></blockquote><h2 id="rabbitmq的延迟消息如何实现" tabindex="-1">rabbitmq的延迟消息如何实现? <a class="header-anchor" href="#rabbitmq的延迟消息如何实现" aria-label="Permalink to &quot;rabbitmq的延迟消息如何实现?&quot;">​</a></h2><blockquote><p>使用死信队列,给消息设置过期时间,如果过期了,就会投递到死信队列中,然后再消费该队列;可能造成对头阻塞,第一个没消费完,就能不能消费第二个;</p></blockquote><blockquote><p>用官方插件 rabbitmq_delayed_message_exchange;消息过期后保存在erlang的数据库中,然后定时器查询出消息,再投递到x-delayed-message的交换机中;可能丢失，数据库是单节点磁盘副本;不适合10W+场景,因为定时器太多,竞争系统资源,导致时间漂移；</p></blockquote><h2 id="rabbitmq是如何做消息分发-有几种工作模式" tabindex="-1">rabbitmq是如何做消息分发？有几种工作模式? <a class="header-anchor" href="#rabbitmq是如何做消息分发-有几种工作模式" aria-label="Permalink to &quot;rabbitmq是如何做消息分发？有几种工作模式?&quot;">​</a></h2><table tabindex="0"><thead><tr><th>模式</th><th>概念</th><th>使用场景</th></tr></thead><tbody><tr><td>简单模式</td><td>一个生产者发送消息到一个队列，一个消费者从队列中接收消息。</td><td>简单的消息传递场景，如日志收集、任务分发等。</td></tr><tr><td>工作模式</td><td>多个消费者处理同一个队列中的消息。</td><td>处理大量消息的场景，如批量数据处理、订单处理等。</td></tr><tr><td>发布订阅模式</td><td>消息生产者将消息发送到交换机，交换机将消息广播到所有与之绑定的队列中，每个队列中的消费者都能接收到消息。</td><td>一对多或多对多消息传递的场景，如实时消息通知、系统日志广播等。</td></tr><tr><td>路由模式</td><td>消息生产者将消息发送到交换机，交换机根据路由键将消息发送到匹配的队列中，消费者从特定队列接收消息。</td><td>基于不同条件将消息路由到不同处理逻辑的场景，如订单状态更新、事件处理等。</td></tr><tr><td>主题模式</td><td>类似于路由模式，路由键支持通配符，可以匹配多个模式。交换机根据路由键的匹配结果将消息发送到匹配的队列中。(*:一个单词;#:多个单词)</td><td>复杂条件进行消息路由的场景，如多级分类的日志处理、基于用户兴趣的消息推送等。</td></tr><tr><td>RPC模式</td><td>远程过程调用，客户端发送请求消息到队列，服务端从队列接收请求并执行相应操作，然后将结果发送回客户端。</td><td>跨服务或跨语言的远程调用场景，如分布式系统中的服务调用、跨语言集成等。</td></tr></tbody></table><h2 id="rabbitmq的整体架构" tabindex="-1">rabbitmq的整体架构? <a class="header-anchor" href="#rabbitmq的整体架构" aria-label="Permalink to &quot;rabbitmq的整体架构?&quot;">​</a></h2><p>生产者:</p><p>vhost:rabbitmq虚拟主机的概念，对资源进行隔离和分组</p><p>exchange:消息发放和接收的中心</p><p>binding:</p><p>queue:消息存储和消费的地方</p><p>消费者:</p><h2 id="rabbitmq的死信队列" tabindex="-1">rabbitmq的死信队列 <a class="header-anchor" href="#rabbitmq的死信队列" aria-label="Permalink to &quot;rabbitmq的死信队列&quot;">​</a></h2><h2 id="rabbitmq如何保证高可用" tabindex="-1">rabbitmq如何保证高可用? <a class="header-anchor" href="#rabbitmq如何保证高可用" aria-label="Permalink to &quot;rabbitmq如何保证高可用?&quot;">​</a></h2><blockquote><p>普通集群:消息投递在不同的节点上; 镜像集群:每个节点上的消息都一样;</p></blockquote><h2 id="rabbitmq防止重复消费" tabindex="-1">rabbitmq防止重复消费? <a class="header-anchor" href="#rabbitmq防止重复消费" aria-label="Permalink to &quot;rabbitmq防止重复消费?&quot;">​</a></h2><blockquote><p>要选择合适的工作模式，比如：订阅消费路由主题模式会被投递到多个队列中，然后多个消费者消费; 判断幂等性,1锁,2判,3更新;主要是判断这里，比如加个uuid,消费后保存在redis中，然后查是否存在；判断表中唯一索引是否存在了;自动取消订单判断状态是否为未支付;</p></blockquote><h2 id="rabbitmq如何保证消息不丢失" tabindex="-1">rabbitmq如何保证消息不丢失? <a class="header-anchor" href="#rabbitmq如何保证消息不丢失" aria-label="Permalink to &quot;rabbitmq如何保证消息不丢失?&quot;">​</a></h2><blockquote><p>durable:丢able 生产者投递消息,用ack确认或事务(效率慢,txSelect:开启,txCommit:提交,txRollback:回滚) 交换机和队列声明时,参数durable为true,持久化; 消费者消费,用ack确认</p></blockquote><h2 id="rabbitmq如何保证消息有序性" tabindex="-1">rabbitmq如何保证消息有序性? <a class="header-anchor" href="#rabbitmq如何保证消息有序性" aria-label="Permalink to &quot;rabbitmq如何保证消息有序性?&quot;">​</a></h2><blockquote><p>消息发送，自己确保是有序的；集群化部署的话，可以通过分布式锁确保消息有序。<br> 消息到达队列之后，默认就是有序的。<br> 消息消费，一个队列对应一个消费者，并且一个消费者一个 channel，不能并发消费，就可以确保消息有序。</p></blockquote><h2 id="rabbitmq消息堆积如何解决" tabindex="-1">rabbitmq消息堆积如何解决? <a class="header-anchor" href="#rabbitmq消息堆积如何解决" aria-label="Permalink to &quot;rabbitmq消息堆积如何解决?&quot;">​</a></h2><blockquote><p>原因:要么投递太快，要么消费太慢<br> 生产消息的速度长时间远大于消费的速度。<br> 消费者出现异常，无法消费消息。<br> 消费者与队列间的订阅可能出现问题，导致消息无法被消费。<br> 消费者的消费能力降低，导致消息等待消费的时间过长。</p></blockquote><blockquote><p>解决: 排查是否为无法消费:被拒绝,无法路由等 优化代码，使得消费速度变快; 加多些消费者; 错峰处理; 限制生产者的速度; 设置消费者的最大消息数，当消息堆积达到一定数量时，停止接收新消息，直到已接收消息的数量减少到一定程度再继续接收。 升级配置</p></blockquote><h2 id="如何保证消息一定能发送到rabbitmq" tabindex="-1">如何保证消息一定能发送到rabbitmq? <a class="header-anchor" href="#如何保证消息一定能发送到rabbitmq" aria-label="Permalink to &quot;如何保证消息一定能发送到rabbitmq?&quot;">​</a></h2><blockquote><p>生产者投递消息,用ack确认或事务(效率慢,txSelect:开启,txCommit:提交,txRollback:回滚)</p></blockquote><h2 id="rabbitmq事务" tabindex="-1">rabbitmq事务 <a class="header-anchor" href="#rabbitmq事务" aria-label="Permalink to &quot;rabbitmq事务&quot;">​</a></h2><blockquote><p>生产者端投递，原子性，效率慢,</p><p>txSelect:开启,</p><p>txCommit:提交,</p><p>txRollback:回滚</p></blockquote><h2 id="rabbitmq如何实现消费端限流" tabindex="-1">rabbitmq如何实现消费端限流? <a class="header-anchor" href="#rabbitmq如何实现消费端限流" aria-label="Permalink to &quot;rabbitmq如何实现消费端限流?&quot;">​</a></h2><ul><li>prefetchSize：每条消息大小的设置，0是无限制</li><li>prefetchCount:标识每次推送多少条消息</li><li>global:false标识channel级别的 true:标识消费者级别的</li></ul><blockquote><p>channel.basicQos(0,10,false);</p></blockquote><h1 id="kafka" tabindex="-1">kafka <a class="header-anchor" href="#kafka" aria-label="Permalink to &quot;kafka&quot;">​</a></h1><h2 id="kafka-的架构-大致储存结构" tabindex="-1">kafka 的架构，大致储存结构 <a class="header-anchor" href="#kafka-的架构-大致储存结构" aria-label="Permalink to &quot;kafka 的架构，大致储存结构&quot;">​</a></h2><h2 id="kafka如果消费者数超过分区数会怎么样" tabindex="-1">kafka如果消费者数超过分区数会怎么样？ <a class="header-anchor" href="#kafka如果消费者数超过分区数会怎么样" aria-label="Permalink to &quot;kafka如果消费者数超过分区数会怎么样？&quot;">​</a></h2><h2 id="kafka怎么保证数据的可靠投递" tabindex="-1">kafka怎么保证数据的可靠投递？ <a class="header-anchor" href="#kafka怎么保证数据的可靠投递" aria-label="Permalink to &quot;kafka怎么保证数据的可靠投递？&quot;">​</a></h2><h2 id="kafka消费者的-offset-存在哪里" tabindex="-1">kafka消费者的 offset 存在哪里？ <a class="header-anchor" href="#kafka消费者的-offset-存在哪里" aria-label="Permalink to &quot;kafka消费者的 offset 存在哪里？&quot;">​</a></h2><h2 id="kafka如何通过-offset-定位消息" tabindex="-1">kafka如何通过 offset 定位消息？ <a class="header-anchor" href="#kafka如何通过-offset-定位消息" aria-label="Permalink to &quot;kafka如何通过 offset 定位消息？&quot;">​</a></h2><h2 id="kafka时间轮的原理" tabindex="-1">kafka时间轮的原理 <a class="header-anchor" href="#kafka时间轮的原理" aria-label="Permalink to &quot;kafka时间轮的原理&quot;">​</a></h2><h2 id="kafka-写入高性能的原因-sendfile-和-mmap-原理-为什么不用-splice" tabindex="-1">kafka 写入高性能的原因，sendfile 和 mmap 原理，为什么不用 splice <a class="header-anchor" href="#kafka-写入高性能的原因-sendfile-和-mmap-原理-为什么不用-splice" aria-label="Permalink to &quot;kafka 写入高性能的原因，sendfile 和 mmap 原理，为什么不用 splice&quot;">​</a></h2></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/MONGODB.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>MONGODB</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>系统设计</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docker.md\":\"Co2c1NIW\",\"docker学习.md\":\"DLtnDPH6\",\"elasticsearch.md\":\"B88M8rKz\",\"git.md\":\"CtnjfmBs\",\"go.md\":\"DUoTgmUu\",\"index.md\":\"BDfA35-0\",\"java.md\":\"BND6wbIN\",\"linux.md\":\"7N6sWg_z\",\"mongodb.md\":\"DJHI8If3\",\"mq.md\":\"ZXmkco5g\",\"mysql.md\":\"BPoh3s4q\",\"nginx.md\":\"CBTj8rvv\",\"nginx高级课程扩容与高效.md\":\"B9qoVpFH\",\"php.md\":\"DsXt6RjT\",\"redis.md\":\"D5b35ayV\",\"swoole.md\":\"TztxAnxM\",\"八股文.md\":\"FzjAQuJg\",\"其他.md\":\"wb5ewEyw\",\"分布式.md\":\"Dvzsitme\",\"吹牛.md\":\"D-5zuJ7f\",\"安全.md\":\"C6YdsneV\",\"相关网站.md\":\"BR0-dJZ_\",\"算法.md\":\"By7tOXnU\",\"系统设计.md\":\"DLF4mYTV\",\"网络.md\":\"DvKyQZAV\",\"计算机原理.md\":\"BN8naveY\",\"项目相关.md\":\"C5e-UY9Y\",\"题目.md\":\"DrbqOtFl\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"我的文档\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"sidebar\":{\"/\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"MYSQL\",\"link\":\"/MYSQL\"},{\"text\":\"GIT\",\"link\":\"/GIT\"},{\"text\":\"REDIS\",\"link\":\"/REDIS\"},{\"text\":\"PHP\",\"link\":\"/PHP\"},{\"text\":\"SWOOLE\",\"link\":\"/SWOOLE\"},{\"text\":\"GO\",\"link\":\"/GO\"},{\"text\":\"JAVA\",\"link\":\"/JAVA\"},{\"text\":\"NGINX\",\"link\":\"/NGINX\"},{\"text\":\"MONGODB\",\"link\":\"/MONGODB\"},{\"text\":\"MQ\",\"link\":\"/MQ\"},{\"text\":\"系统设计\",\"link\":\"/系统设计\"},{\"text\":\"分布式\",\"link\":\"/分布式\"},{\"text\":\"其他\",\"link\":\"/其他\"},{\"text\":\"ELASTICSEARCH\",\"link\":\"/ELASTICSEARCH\"},{\"text\":\"DOCKER\",\"link\":\"/DOCKER\"},{\"text\":\"计算机原理\",\"link\":\"/计算机原理\"},{\"text\":\"LINUX\",\"link\":\"/LINUX\"},{\"text\":\"网络\",\"link\":\"/网络\"},{\"text\":\"算法\",\"link\":\"/算法\"},{\"text\":\"安全\",\"link\":\"/安全\"},{\"text\":\"吹牛\",\"link\":\"/吹牛\"},{\"text\":\"相关网站\",\"link\":\"/相关网站\"}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>